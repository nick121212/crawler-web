webpackJsonp([6],{0:function(e,n,t){t(13),t(3),t(147),e.exports=t(146)},146:function(e,n,t){var r,i,o;/*! Copyright (c) 2013 Brandon Aaron (http://brandon.aaron.sh)
	 * Licensed under the MIT License (LICENSE.txt).
	 *
	 * Version: 3.1.9
	 *
	 * Requires: jQuery 1.2.2+
	 */
!function(a){i=[t(13)],r=a,o="function"==typeof r?r.apply(n,i):r,!(void 0!==o&&(e.exports=o))}(function(e){function n(n){var a=n||window.event,s=c.call(arguments,1),l=0,u=0,f=0,h=0;if(n=e.event.fix(a),n.type="mousewheel","detail"in a&&(f=a.detail*-1),"wheelDelta"in a&&(f=a.wheelDelta),"wheelDeltaY"in a&&(f=a.wheelDeltaY),"wheelDeltaX"in a&&(u=a.wheelDeltaX*-1),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(u=f*-1,f=0),l=0===f?u:f,"deltaY"in a&&(f=a.deltaY*-1,l=f),"deltaX"in a&&(u=a.deltaX,0===f&&(l=u*-1)),0!==f||0!==u){if(1===a.deltaMode){var p=e.data(this,"mousewheel-line-height");l*=p,f*=p,u*=p}else if(2===a.deltaMode){var m=e.data(this,"mousewheel-page-height");l*=m,f*=m,u*=m}return h=Math.max(Math.abs(f),Math.abs(u)),(!o||h<o)&&(o=h,r(a,h)&&(o/=40)),r(a,h)&&(l/=40,u/=40,f/=40),l=Math[l>=1?"floor":"ceil"](l/o),u=Math[u>=1?"floor":"ceil"](u/o),f=Math[f>=1?"floor":"ceil"](f/o),n.deltaX=u,n.deltaY=f,n.deltaFactor=o,n.deltaMode=0,s.unshift(n,l,u,f),i&&clearTimeout(i),i=setTimeout(t,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function t(){o=null}function r(e,n){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&n%120===0}var i,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],c=Array.prototype.slice;if(e.event.fixHooks)for(var l=a.length;l;)e.event.fixHooks[a[--l]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var t=s.length;t;)this.addEventListener(s[--t],n,!1);else this.onmousewheel=n;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=s.length;e;)this.removeEventListener(s[--e],n,!1);else this.onmousewheel=null},getLineHeight:function(n){return parseInt(e(n)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(n){return e(n).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})})},147:function(e,n,t){(function(e,n){/**@license
	 *       __ _____                     ________                              __
	 *      / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /
	 *  __ / // // // // // _  // _// // / / // _  // _//     // //  \/ // _ \/ /
	 * /  / // // // // // ___// / / // / / // ___// / / / / // // /\  // // / /__
	 * \___//____ \\___//____//_/ _\_  / /_//____//_/ /_/ /_//_//_/ /_/ \__\_\___/
	 *           \/              /____/                              version 0.11.19
	 *
	 * This file is part of jQuery Terminal. http://terminal.jcubic.pl
	 *
	 * Copyright (c) 2010-2016 Jakub Jankiewicz <http://jcubic.pl>
	 * Released under the MIT license
	 *
	 * Contains:
	 *
	 * Storage plugin Distributed under the MIT License
	 * Copyright (c) 2010 Dave Schindler
	 *
	 * jQuery Timers licenced with the WTFPL
	 * <http://jquery.offput.ca/timers/>
	 *
	 * Cross-Browser Split 1.1.1
	 * Copyright 2007-2012 Steven Levithan <stevenlevithan.com>
	 * Available under the MIT License
	 *
	 * jQuery Caret
	 * Copyright (c) 2009, Gideon Sireling
	 * 3 clause BSD License
	 *
	 * sprintf.js
	 * Copyright (c) 2007-2013 Alexandru Marasteanu <hello at alexei dot ro>
	 * licensed under 3 clause BSD license
	 *
	 * Date: Tue, 22 Nov 2016 11:04:26 +0000
	 */
!function(e){function n(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,n){for(var t=[];n>0;t[--n]=e);return t.join("")}var r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};r.format=function(e,i){var o,a,s,c,l,u,f,h=1,p=e.length,m="",g=[];for(a=0;a<p;a++)if(m=n(e[a]),"string"===m)g.push(e[a]);else if("array"===m){if(c=e[a],c[2])for(o=i[h],s=0;s<c[2].length;s++){if(!o.hasOwnProperty(c[2][s]))throw r('[sprintf] property "%s" does not exist',c[2][s]);o=o[c[2][s]]}else o=c[1]?i[c[1]]:i[h++];if(/[^s]/.test(c[8])&&"number"!=n(o))throw r("[sprintf] expecting number but found %s",n(o));switch(c[8]){case"b":o=o.toString(2);break;case"c":o=String.fromCharCode(o);break;case"d":o=parseInt(o,10);break;case"e":o=c[7]?o.toExponential(c[7]):o.toExponential();break;case"f":o=c[7]?parseFloat(o).toFixed(c[7]):parseFloat(o);break;case"o":o=o.toString(8);break;case"s":o=(o=String(o))&&c[7]?o.substring(0,c[7]):o;break;case"u":o>>>=0;break;case"x":o=o.toString(16);break;case"X":o=o.toString(16).toUpperCase()}o=/[def]/.test(c[8])&&c[3]&&o>=0?"+"+o:o,u=c[4]?"0"==c[4]?"0":c[4].charAt(1):" ",f=c[6]-String(o).length,l=c[6]?t(u,f):"",g.push(c[5]?o+l:l+o)}return g.join("")},r.cache={},r.parse=function(e){for(var n=e,t=[],r=[],i=0;n;){if(null!==(t=/^[^\x25]+/.exec(n)))r.push(t[0]);else if(null!==(t=/^\x25{2}/.exec(n)))r.push("%");else{if(null===(t=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(n)))throw"[sprintf] huh?";if(t[2]){i|=1;var o=[],a=t[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(a)))throw"[sprintf] huh?";for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(a)))o.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(a)))throw"[sprintf] huh?";o.push(s[1])}t[2]=o}else i|=2;if(3===i)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";r.push(t)}n=n.substring(t[0].length)}return r};var i=function(e,n,t){return t=n.slice(0),t.splice(0,0,e),r.apply(null,t)};e.sprintf=r,e.vsprintf=i}("undefined"!=typeof e?e:window),function(e,n){"use strict";function t(e,n){var t;if("string"==typeof e&&"string"==typeof n)return localStorage[e]=n,!0;if("object"==typeof e&&"undefined"==typeof n){for(t in e)e.hasOwnProperty(t)&&(localStorage[t]=e[t]);return!0}return!1}function r(e,n){var t,r,i;if(t=new Date,t.setTime(t.getTime()+31536e6),r="; expires="+t.toGMTString(),"string"==typeof e&&"string"==typeof n)return document.cookie=e+"="+n+r+"; path=/",!0;if("object"==typeof e&&"undefined"==typeof n){for(i in e)e.hasOwnProperty(i)&&(document.cookie=i+"="+e[i]+r+"; path=/");return!0}return!1}function i(e){return localStorage[e]}function o(e){var n,t,r,i;for(n=e+"=",t=document.cookie.split(";"),r=0;r<t.length;r++){for(i=t[r];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(n))return i.substring(n.length,i.length)}return null}function a(e){return delete localStorage[e]}function s(e){return r(e,"",-1)}function c(e,n){var t=[],r=e.length;if(r<n)return[e];if(n<0)throw new Error("str_parts: length can't be negative");for(var i=0;i<r;i+=n)t.push(e.substring(i,i+n));return t}function l(n){var t=n?[n]:[],r=0;e.extend(this,{get:function(){return t},rotate:function(){if(t.filter(Boolean).length)return 1===t.length?t[0]:(r===t.length-1?r=0:++r,t[r]?t[r]:this.rotate())},length:function(){return t.length},remove:function(e){delete t[e]},set:function(e){for(var n=t.length;n--;)if(t[n]===e)return void(r=n);this.append(e)},front:function(){if(t.length){for(var e=r,n=!1;!t[e];)if(e++,e>t.length){if(n)break;e=0,n=!0}return t[e]}},append:function(e){t.push(e)}})}function u(n){var t=n instanceof Array?n:n?[n]:[];e.extend(this,{data:function(){return t},map:function(n){return e.map(t,n)},size:function(){return t.length},pop:function(){if(0===t.length)return null;var e=t[t.length-1];return t=t.slice(0,t.length-1),e},push:function(e){return t=t.concat([e]),e},top:function(){return t.length>0?t[t.length-1]:null},clone:function(){return new u(t.slice(0))}})}function f(n,t,r){var i=!0,o="";"string"==typeof n&&""!==n&&(o=n+"_"),o+="commands";var a;r?a=[]:(a=e.Storage.get(o),a=a?e.parseJSON(a):[]);var s=a.length-1;e.extend(this,{append:function(n){i&&a[a.length-1]!==n&&(a.push(n),t&&a.length>t&&(a=a.slice(-t)),s=a.length-1,r||e.Storage.set(o,JSON.stringify(a)))},data:function(){return a},reset:function(){s=a.length-1},last:function(){return a[a.length-1]},end:function(){return s===a.length-1},position:function(){return s},current:function(){return a[s]},next:function(){if(s<a.length-1&&++s,s!==-1)return a[s]},previous:function(){var e=s;if(s>0&&--s,e!==-1)return a[s]},clear:function(){a=[],this.purge()},enabled:function(){return i},enable:function(){i=!0},purge:function(){r||e.Storage.remove(o)},disable:function(){i=!1}})}function h(n){return e("<div>"+e.terminal.strip(n)+"</div>").text().length}function p(n,t){var r=t(n);if(r.length){var i=r.shift(),o=new RegExp("^"+e.terminal.escape_regex(i)),a=n.replace(o,"").trim();return{command:n,name:i,args:r,rest:a}}return{command:n,name:"",args:[],rest:""}}function m(){var n=e('<div class="terminal temp"><div class="cmd"><span class="cursor">&nbsp;</span></div></div>').appendTo("body"),t=n.find("span"),r={width:t.width(),height:t.outerHeight()};return n.remove(),r}function g(n){var t=e('<div class="terminal wrap"><span class="cursor">&nbsp;</span></div>').appendTo("body").css("padding",0),r=t.find("span"),i=r[0].getBoundingClientRect().width,o=Math.floor(n.width()/i);if(t.remove(),w(n)){var a=20,s=n.innerWidth()-n.width();o-=Math.ceil((a-s/2)/(i-1))}return o}function d(e){return Math.floor(e.height()/m().height)}function v(){if(window.getSelection||document.getSelection){var e=(window.getSelection||document.getSelection)();return e.text?e.text:e.toString()}if(document.selection)return document.selection.createRange().text}function w(n){return"scroll"==n.css("overflow")||"scroll"==n.css("overflow-y")||(n.is("body")?e("body").height()>e(window).height():n.get(0).scrollHeight>n.innerHeight())}e.omap=function(n,t){var r={};return e.each(n,function(e,i){r[e]=t.call(n,e,i)}),r};var y={clone_object:function(n){var t={};if("object"==typeof n){if(e.isArray(n))return this.clone_array(n);if(null===n)return n;for(var r in n)e.isArray(n[r])?t[r]=this.clone_array(n[r]):"object"==typeof n[r]?t[r]=this.clone_object(n[r]):t[r]=n[r]}return t},clone_array:function(n){if(!e.isFunction(Array.prototype.map))throw new Error("You'r browser don't support ES5 array map use es5-shim");return n.slice(0).map(function(e){return"object"==typeof e?this.clone_object(e):e}.bind(this))}},_=function(e){return y.clone_object(e)},b=function(){var e="test",n=window.localStorage;try{return n.setItem(e,"1"),n.removeItem(e),!0}catch(t){return!1}},x=b();e.extend({Storage:{set:x?t:r,get:x?i:o,remove:x?a:s}});var k=e;k.fn.extend({everyTime:function(e,n,t,r,i){return this.each(function(){k.timer.add(this,e,n,t,r,i)})},oneTime:function(e,n,t){return this.each(function(){k.timer.add(this,e,n,t,1)})},stopTime:function(e,n){return this.each(function(){k.timer.remove(this,e,n)})}}),k.extend({timer:{guid:1,global:{},regex:/^([0-9]+)\s*(.*s)?$/,powers:{ms:1,cs:10,ds:100,s:1e3,das:1e4,hs:1e5,ks:1e6},timeParse:function(e){if(e===n||null===e)return null;var t=this.regex.exec(k.trim(e.toString()));if(t[2]){var r=parseInt(t[1],10),i=this.powers[t[2]]||1;return r*i}return e},add:function(e,n,t,r,i,o){var a=0;if(k.isFunction(t)&&(i||(i=r),r=t,t=n),n=k.timer.timeParse(n),!("number"!=typeof n||isNaN(n)||n<=0)){i&&i.constructor!==Number&&(o=!!i,i=0),i=i||0,o=o||!1,e.$timers||(e.$timers={}),e.$timers[t]||(e.$timers[t]={}),r.$timerID=r.$timerID||this.guid++;var s=function(){o&&s.inProgress||(s.inProgress=!0,(++a>i&&0!==i||r.call(e,a)===!1)&&k.timer.remove(e,t,r),s.inProgress=!1)};s.$timerID=r.$timerID,e.$timers[t][r.$timerID]||(e.$timers[t][r.$timerID]=window.setInterval(s,n)),this.global[t]||(this.global[t]=[]),this.global[t].push(e)}},remove:function(e,n,t){var r,i=e.$timers;if(i){if(n){if(i[n]){if(t)t.$timerID&&(window.clearInterval(i[n][t.$timerID]),delete i[n][t.$timerID]);else for(var o in i[n])i[n].hasOwnProperty(o)&&(window.clearInterval(i[n][o]),delete i[n][o]);for(r in i[n])if(i[n].hasOwnProperty(r))break;r||(r=null,delete i[n])}}else for(var a in i)i.hasOwnProperty(a)&&this.remove(e,a,t);for(r in i)if(i.hasOwnProperty(r))break;r||(e.$timers=null)}}}}),/(msie) ([\w.]+)/.exec(navigator.userAgent.toLowerCase())&&k(window).one("unload",function(){var e=k.timer.global;for(var n in e)if(e.hasOwnProperty(n))for(var t=e[n],r=t.length;--r;)k.timer.remove(t[r],n)}),function(e){if(String.prototype.split.toString().match(/\[native/)){var n,t=String.prototype.split,r=/()??/.exec("")[1]===e;return n=function(n,i,o){if("[object RegExp]"!==Object.prototype.toString.call(i))return t.call(n,i,o);var a,s,c,l,u=[],f=(i.ignoreCase?"i":"")+(i.multiline?"m":"")+(i.extended?"x":"")+(i.sticky?"y":""),h=0;for(i=new RegExp(i.source,f+"g"),n+="",r||(a=new RegExp("^"+i.source+"$(?!\\s)",f)),o=o===e?-1>>>0:o>>>0;(s=i.exec(n))&&(c=s.index+s[0].length,!(c>h&&(u.push(n.slice(h,s.index)),!r&&s.length>1&&s[0].replace(a,function(){for(var n=1;n<arguments.length-2;n++)arguments[n]===e&&(s[n]=e)}),s.length>1&&s.index<n.length&&Array.prototype.push.apply(u,s.slice(1)),l=s[0].length,h=c,u.length>=o)));)i.lastIndex===s.index&&i.lastIndex++;return h===n.length?!l&&i.test("")||u.push(""):u.push(n.slice(h)),u.length>o?u.slice(0,o):u},String.prototype.split=function(e,t){return n(this,e,t)},n}}(),e.fn.caret=function(e){var n=this[0],t="true"===n.contentEditable;if(0==arguments.length){if(window.getSelection){if(t){n.focus();var r=window.getSelection().getRangeAt(0),i=r.cloneRange();return i.selectNodeContents(n),i.setEnd(r.endContainer,r.endOffset),i.toString().length}return n.selectionStart}if(document.selection){if(n.focus(),t){var r=document.selection.createRange(),i=document.body.createTextRange();return i.moveToElementText(n),i.setEndPoint("EndToEnd",r),i.text.length}var e=0,o=n.createTextRange(),i=document.selection.createRange().duplicate(),a=i.getBookmark();for(o.moveToBookmark(a);0!==o.moveStart("character",-1);)e++;return e}return 0}if(e==-1&&(e=this[t?"text":"val"]().length),window.getSelection)t?(n.focus(),window.getSelection().collapse(n.firstChild,e)):n.setSelectionRange(e,e);else if(document.body.createTextRange){var o=document.body.createTextRange();o.moveToElementText(n),o.moveStart("character",e),o.collapse(!0),o.select()}return t||n.focus(),e};var C=function(){var e=document.createElement("div");return e.setAttribute("onpaste","return;"),"function"==typeof e.onpaste}();e.fn.cmd=function(t){function r(){var e=b.is(":focus");j?e||(b.focus(),y.oneTime(10,function(){b.focus()})):e&&b.blur()}function i(){y.oneTime(10,function(){b.val(D),y.oneTime(10,function(){b.caret(J)})})}function o(e){W.toggleClass("inverted")}function a(){R="(reverse-i-search)`"+L+"': ",Z()}function s(){R=E,N=!1,P=null,L=""}function l(n){var t,r,i=O.data(),o=i.length;if(n&&P>0&&(o-=P),L.length>0)for(var s=L.length;s>0;s--){r=e.terminal.escape_regex(L.substring(0,s)),t=new RegExp(r);for(var c=o;c--;)if(t.test(i[c]))return P=i.length-c,y.position(i[c].indexOf(r)),y.set(i[c],!0),X(),void(L.length!==s&&(L=L.substring(0,s),a()))}L=""}function u(){var e=y.width(),n=W[0].getBoundingClientRect().width;x=Math.floor(e/n)}function h(e){var n=e.substring(0,x-k),t=e.substring(x-k);return[n].concat(c(t,x))}function p(e){if(!(q++>0)&&(e.originalEvent&&(e=e.originalEvent),y.isenabled())){var n=y.find("textarea");n.is(":focus")||n.focus(),y.oneTime(100,function(){y.insert(n.val()),n.val(""),i()})}}function m(r){var i,o,c;if(j){if(e.isFunction(t.keydown)&&(i=t.keydown(r),i!==n))return i;if(38===r.which||80===r.which&&r.ctrlKey||(G=!0),!N||35!==r.which&&36!==r.which&&37!==r.which&&38!==r.which&&39!==r.which&&40!==r.which&&13!==r.which&&27!==r.which){if(r.altKey)return 68!==r.which||(y.set(D.slice(0,J)+D.slice(J).replace(/ *[^ ]+ *(?= )|[^ ]+$/,""),!0),!1);if(13===r.keyCode)if(r.shiftKey)y.insert("\n");else{(O&&D&&!K&&e.isFunction(t.historyFilter)&&t.historyFilter(D)||t.historyFilter instanceof RegExp&&D.match(t.historyFilter)||!t.historyFilter)&&O.append(D);var u=D;O.reset(),y.set(""),t.commands&&t.commands(u),e.isFunction(R)&&Z(),e(".clipboard").val("")}else if(8===r.which){if(N?(L=L.slice(0,-1),a()):""!==D&&J>0&&y["delete"](-1),F)return!0}else if(67===r.which&&r.ctrlKey&&r.shiftKey)M=v();else if(86===r.which&&r.ctrlKey&&r.shiftKey)""!==M&&y.insert(M);else if(9!==r.which||r.ctrlKey||r.altKey){if(46===r.which)return void y["delete"](1);if(O&&38===r.which&&!r.ctrlKey||80===r.which&&r.ctrlKey)G?(A=D,y.set(O.current())):y.set(O.previous()),G=!1;else if(O&&40===r.which&&!r.ctrlKey||78===r.which&&r.ctrlKey)y.set(O.end()?A:O.next());else if(37===r.which||66===r.which&&r.ctrlKey)if(r.ctrlKey&&66!==r.which){c=J-1,o=0," "===D[c]&&--c;for(var f=c;f>0;--f){if(" "===D[f]&&" "!==D[f+1]){o=f+1;break}if("\n"===D[f]&&"\n"!==D[f+1]){o=f;break}}y.position(o)}else J>0&&(y.position(-1,!0),X());else if(82===r.which&&r.ctrlKey)N?l(!0):(E=R,a(),A=D,y.set(""),X(),N=!0);else if(71==r.which&&r.ctrlKey)N&&(R=E,Z(),y.set(A),X(),N=!1,L="");else if(39===r.which||70===r.which&&r.ctrlKey)if(r.ctrlKey&&70!==r.which){" "===D[J]&&++J;var h=/\S[\n\s]{2,}|[\n\s]+\S?/,g=D.slice(J).match(h);!g||g[0].match(/^\s+$/)?y.position(D.length):" "!==g[0][0]?J+=g.index+1:(J+=g.index+g[0].length-1," "!==g[0][g[0].length-1]&&--J),X()}else J<D.length&&y.position(1,!0);else{if(123===r.which)return;if(36===r.which)y.position(0);else if(35===r.which)y.position(D.length);else{if(r.shiftKey&&45==r.which)return b.val(""),q=0,void(C?b.focus():p(r));if(!r.ctrlKey&&!r.metaKey)return Q=!1,void(U=!0);if(192===r.which)return;if(r.metaKey){if(82===r.which)return;if(76===r.which)return}if(r.shiftKey){if(84===r.which)return}else{if(81===r.which){if(""!==D&&0!==J){var d=D.slice(0,J).match(/([^ ]+ *$)/);H=y["delete"](-d[0].length)}return!1}if(72===r.which)return""!==D&&J>0&&y["delete"](-1),!1;if(65===r.which)y.position(0);else if(69===r.which)y.position(D.length);else{if(88===r.which||67===r.which||84===r.which)return;if(89===r.which)""!==H&&y.insert(H);else{if(86===r.which||118===r.which)return b.val(""),q=0,void(C?(b.focus(),b.on("input",function w(e){p(e),b.off("input",w)})):p(r));if(75===r.which)H=y["delete"](D.length-J);else if(85===r.which)""!==D&&0!==J&&(H=y["delete"](-J));else if(17===r.which)return!1}}}}}}else y.insert("\t")}else s(),Z(),27===r.which&&y.set(""),X(),m.call(this,r);r.preventDefault()}}function g(){e.isFunction(t.onCommandChange)&&t.onCommandChange(D)}function d(r){var i;if(U=!1,(!r.ctrlKey&&!r.metaKey||[99,118,86].indexOf(r.which)===-1)&&!Q){if(!N&&e.isFunction(t.keypress)&&(i=t.keypress(r)),i!==n&&!i)return i;if(j){if(e.inArray(r.which,[38,13,0,8])>-1&&(38!==r.which||!r.shiftKey)){if(123==r.keyCode)return;return!1}if(!r.ctrlKey&&(!r.altKey||100!==r.which)||r.altKey)return N?(L+=String.fromCharCode(r.which),l(),a()):y.insert(String.fromCharCode(r.which)),!1}}}function w(e){if(U){var n=b.val();(n||8==e.which)&&y.set(n)}}var y=this,_=y.data("cmd");if(_)return _;y.addClass("cmd"),y.append('<span class="prompt"></span><span></span><span class="cursor">&nbsp;</span><span></span>');var b=e("<textarea>").attr({autocapitalize:"off",spellcheck:"false"}).addClass("clipboard").appendTo(y);t.width&&y.width(t.width);var x,k,E,A,R,j,$,O,z,I=y.find(".prompt"),N=!1,L="",P=null,K=t.mask||!1,D="",M="",H="",J=0,B=t.historySize||60,W=y.find(".cursor"),q=0;if(S&&!T)z=function(e){e?W.addClass("blink"):W.removeClass("blink")};else{var Y=!1;z=function(e){e&&!Y?(Y=!0,W.addClass("inverted blink"),y.everyTime(500,"blink",o)):Y&&!e&&(Y=!1,y.stopTime("blink",o),W.removeClass("inverted blink"))}}var U,X=function(n){function t(n,t){var r=n.length;if(t===r)a.html(e.terminal.encode(n)),W.html("&nbsp;"),s.html("");else if(0===t)a.html(""),W.html(e.terminal.encode(n.slice(0,1))),s.html(e.terminal.encode(n.slice(1)));else{var i=n.slice(0,t);a.html(e.terminal.encode(i));var o=n.slice(t,t+1);W.html(e.terminal.encode(o)),t===n.length-1?s.html(""):s.html(e.terminal.encode(n.slice(t+1)))}}function r(n){return"<div>"+e.terminal.encode(n)+"</div>"}function i(n){var t=s;e.each(n,function(n,i){t=e(r(i)).insertAfter(t).addClass("clear")})}function o(n){e.each(n,function(e,n){a.before(r(n))})}var a=W.prev(),s=W.next();return function(){var l,u;switch(typeof K){case"boolean":l=K?D.replace(/./g,"*"):D;break;case"string":l=D.replace(/./g,K)}var f,p;if(n.find("div").remove(),a.html(""),l.length>x-k-1||l.match(/\n/)){var m,g=l.match(/\t/g),d=g?3*g.length:0;if(g&&(l=l.replace(/\t/g,"\0\0\0\0")),l.match(/\n/)){var v=l.split("\n");for(p=x-k-1,f=0;f<v.length-1;++f)v[f]+=" ";for(v[0].length>p?(m=[v[0].substring(0,p)],u=v[0].substring(p),m=m.concat(c(u,x))):m=[v[0]],f=1;f<v.length;++f)v[f].length>x?m=m.concat(c(v[f],x)):m.push(v[f])}else m=h(l);if(g&&(m=e.map(m,function(e){return e.replace(/\x00\x00\x00\x00/g,"\t")})),p=m[0].length,0===p&&1===m.length);else if(J<p)t(m[0],J),i(m.slice(1));else if(J===p)a.before(r(m[0])),t(m[1],0),i(m.slice(2));else{var w=m.length;if(J<p)t(m[0],J),i(m.slice(1));else if(J===p)a.before(r(m[0])),t(m[1],0),i(m.slice(2));else{var y=m.slice(-1)[0],_=l.length-J-d,b=y.length,C=0;if(_<=b)o(m.slice(0,-1)),C=b===_?0:b-_,t(y,C);else if(3===w)u=e.terminal.encode(m[0]),a.before("<div>"+u+"</div>"),t(m[1],J-p-1),u=e.terminal.encode(m[2]),s.after('<div class="clear">'+u+"</div>");else{var S,T;for(C=J,f=0;f<m.length;++f){var F=m[f].length;if(!(C>F))break;C-=F}T=m[f],S=f,C===T.length&&(C=0,T=m[++S]),t(T,C),o(m.slice(0,S)),i(m.slice(S+1))}}}}else""===l?(a.html(""),W.html("&nbsp;"),s.html("")):t(l,J)}}(y),Z=function(){function n(n){I.html(e.terminal.format(e.terminal.encode(n))),k=I.text().length}return function(){switch(typeof R){case"string":n(R);break;case"function":R(n)}}}(),G=!0,Q=!1;e.extend(y,{name:function(e){if(e!==n){$=e;var r=O&&O.enabled()||!O;return O=new f(e,B,"memory"==t.history),r||O.disable(),y}return $},purge:function(){return O.clear(),y},history:function(){return O},"delete":function(e,n){var t;return 0===e?y:(e<0?J>0&&(t=D.slice(0,J).slice(e),D=D.slice(0,J+e)+D.slice(J,D.length),n?g():y.position(J+e)):""!==D&&J<D.length&&(t=D.slice(J).slice(0,e),D=D.slice(0,J)+D.slice(J+e,D.length),g()),X(),i(),t)},set:function(e,t){return e!==n&&(D=e,t||y.position(D.length),X(),i(),g()),y},insert:function(e,n){return J===D.length?D+=e:D=0===J?e+D:D.slice(0,J)+e+D.slice(J),n?i():y.position(e.length,!0),X(),g(),y},get:function(){return D},commands:function(e){return e?(t.commands=e,y):e},destroy:function(){return V.unbind("keypress.cmd",d),V.unbind("keydown.cmd",m),V.unbind("paste.cmd",p),V.unbind("input.cmd",w),y.stopTime("blink",o),y.find(".cursor").next().remove().end().prev().remove().end().remove(),y.find(".prompt, .clipboard").remove(),y.removeClass("cmd").removeData("cmd"),y},prompt:function(e){if(e===n)return R;if("string"!=typeof e&&"function"!=typeof e)throw new Error("prompt must be a function or string");return R=e,Z(),X(),y},kill_text:function(){return H},position:function(n,r){return"number"==typeof n?(r?J+=n:J=n<0?0:n>D.length?D.length:n,e.isFunction(t.onPositionChange)&&t.onPositionChange(J),X(),i(),y):J},visible:function(){var e=y.visible;return function(){e.apply(y,[]),X(),Z()}}(),show:function(){var e=y.show;return function(){e.apply(y,[]),X(),Z()}}(),resize:function(e){return e?x=e:u(),X(),y},enable:function(){return j=!0,y.addClass("enabled"),z(!0),r(),y},isenabled:function(){return j},disable:function(){return j=!1,y.removeClass("enabled"),z(!1),r(),y},mask:function(e){return"undefined"==typeof e?K:(K=e,X(),y)}}),y.name(t.name||t.prompt||""),R="string"==typeof t.prompt?t.prompt:"> ",Z(),t.enabled!==n&&t.enabled!==!0||y.enable();var V=e(document.documentElement||window);return V.bind("keypress.cmd",d).bind("keydown.cmd",m).bind("input.cmd",w),y.data("cmd",y),y};var S=function(){var e=!1,t="animation",r="",i="Webkit Moz O ms Khtml".split(" "),o="",a=document.createElement("div");if(a.style.animationName&&(e=!0),e===!1)for(var s=0;s<i.length;s++){var c=i[s]+"AnimationName";if(a.style[c]!==n){o=i[s],t=o+"Animation",r="-"+o.toLowerCase()+"-",e=!0;break}}return e}(),T=navigator.userAgent.toLowerCase().indexOf("android")!=-1,F=function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch}(),E=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\](?:[^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?)/i,A=/\[\[([!gbiuso]*);([^;]*);([^;\]]*);?([^;\]]*);?([^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?/gi,R=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]?/gi,j=/\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]/gi,$=/^\[\[([!gbiuso]*;[^;\]]*;[^;\]]*(?:;|[^\]()]*);?[^\]]*)\]([^\]]*\\\][^\]]*|[^\]]*|[^\[]*\[[^\]]*)\]$/gi,O=/^#([0-9a-f]{3}|[0-9a-f]{6})$/i,z=/(\bhttps?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\]\[)])+\b)/gi,I=/\b(https?:\/\/(?:(?:(?!&[^;]+;)|(?=&amp;))[^\s"'<>\][)])+)\b(?![^[\]]*])/gi,N=/((([^<>('")[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,})))/g,L=/('[^']*'|"(\\"|[^"])*"|(?:\/(\\\/|[^\/])+\/[gimy]*)(?=:? |$)|(\\ |[^ ])+|[\w-]+)/gi,P=/(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,K=/^(\[\[[!gbiuso]*;[^;]*;[^\]]*\])/i,D=/\[\[[!gbiuso]*;[^;]*;[^\]]*\]?$/i,M=/(\[\[(?:[^\]]|\\\])*\]\])/;e.terminal={version:"0.11.19",color_names:["black","silver","gray","white","maroon","red","purple","fuchsia","green","lime","olive","yellow","navy","blue","teal","aqua","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],valid_color:function(n){return!!n.match(O)||e.inArray(n.toLowerCase(),e.terminal.color_names)!==-1},escape_regex:function(e){if("string"==typeof e){var n=/([-\\\^$\[\]()+{}?*.|])/g;return e.replace(n,"\\$1")}},have_formatting:function(e){return"string"==typeof e&&!!e.match(j)},is_formatting:function(e){return"string"==typeof e&&!!e.match($)},format_split:function(e){return e.split(E)},split_equal:function(n,t,r){function i(){return"&nbsp;"==h.substring(d-6,d)||" "==h.substring(d-1,d)}for(var o=!1,a=!1,s="",c=[],l=n.replace(R,function(e,n,t){var r=n.match(/;/g).length;if(r>=4)return e;r=2==r?";;":3==r?";":"";var i=t.replace(/\\\]/g,"&#93;").replace(/\n/g,"\\n").replace(/&nbsp;/g," ");return"[["+n+r+i+"]"+t+"]"}).split(/\n/g),u=0,f=l.length;u<f;++u)if(""!==l[u])for(var h=l[u],p=0,m=0,g=-1,d=0,v=h.length;d<v;++d){if(h.substring(d).match(K))o=!0,a=!1;else if(o&&"]"===h[d])a?(o=!1,a=!1):a=!0;else if(o&&a||!o){if("&"===h[d]){var w=h.substring(d).match(/^(&[^;]+;)/);if(!w)throw new Error("Unclosed html entity in line "+(u+1)+" at char "+(d+1));d+=w[1].length-2,d===v-1&&c.push(y+w[1]);continue}"]"===h[d]&&"\\"===h[d-1]?--m:++m}if(i()&&(o&&a||!o||"["===h[d]&&"["===h[d+1])&&(g=d),(m===t||d===v-1)&&(o&&a||!o)){var y,_=e.terminal.strip(h.substring(g));_=e("<span>"+_+"</span>").text();var b=_.length;_=_.substring(0,d+t+1);var x=!!_.match(/\s/)||d+t+1>b;r&&g!=-1&&d!==v-1&&x?(y=h.substring(p,g),d=g-1):y=h.substring(p,d+1),r&&(y=y.replace(/(&nbsp;|\s)+$/g,"")),g=-1,p=d+1,m=0,s&&(y=s+y,y.match("]")&&(s=""));var k=y.match(R);if(k){var C=k[k.length-1];if("]"!==C[C.length-1])s=C.match(P)[1],y+="]";else if(y.match(D)){y.length;y=y.replace(D,""),s=C.match(P)[1]}}c.push(y)}}else c.push("");return c},encode:function(e){return e=e.replace(/&(?!#[0-9]+;|[a-zA-Z]+;)/g,"&amp;"),e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ /g,"&nbsp;").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;")},escape_formatting:function(n){return e.terminal.escape_brackets(e.terminal.encode(n))},format:function(n,t){var r=e.extend({},{linksNoReferrer:!1},t||{});if("string"==typeof n){var i=e.terminal.format_split(n);return n=e.map(i,function(n){return""===n?n:e.terminal.is_formatting(n)?(n=n.replace(/\[\[[^\]]+\]/,function(e){return e.replace(/&nbsp;/g," ")}),n.replace(A,function(n,t,i,o,a,s,c){if(""===c)return"";c=c.replace(/\\]/g,"]");var l="";t.indexOf("b")!==-1&&(l+="font-weight:bold;");var u=[];t.indexOf("u")!==-1&&u.push("underline"),t.indexOf("s")!==-1&&u.push("line-through"),t.indexOf("o")!==-1&&u.push("overline"),u.length&&(l+="text-decoration:"+u.join(" ")+";"),t.indexOf("i")!==-1&&(l+="font-style:italic;"),e.terminal.valid_color(i)&&(l+="color:"+i+";",t.indexOf("g")!==-1&&(l+="text-shadow:0 0 5px "+i+";")),e.terminal.valid_color(o)&&(l+="background-color:"+o);var f;f=""===s?c:s.replace(/&#93;/g,"]");var h;return t.indexOf("!")!==-1?f.match(N)?h='<a href="mailto:'+f+'" ':(h='<a target="_blank" href="'+f+'" ',r.linksNoReferrer&&(h+='rel="noreferrer" ')):h="<span",""!==l&&(h+=' style="'+l+'"'),""!==a&&(h+=' class="'+a+'"'),h+=t.indexOf("!")!==-1?">"+c+"</a>":' data-text="'+f.replace('"',"&quote;")+'">'+c+"</span>"})):"<span>"+n.replace(/\\\]/g,"]")+"</span>"}).join(""),n.replace(/<span><br\s*\/?><\/span>/gi,"<br/>")}return""},escape_brackets:function(e){return e.replace(/\[/g,"&#91;").replace(/\]/g,"&#93;")},strip:function(e){return e.replace(A,"$6")},active:function(){return G.front()},last_id:function(){var e=G.length();if(e)return e-1},parseArguments:function(n){return e.terminal.parse_arguments(n)},splitArguments:function(n){return e.terminal.split_arguments(n)},parseCommand:function(n){return e.terminal.parse_command(n)},splitCommand:function(n){return e.terminal.split_command(n)},parse_arguments:function(n){var t=/^[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?$/;return e.map(n.match(L)||[],function(e){if("'"===e[0]&&"'"===e[e.length-1])return e.replace(/^'|'$/g,"");if('"'===e[0]&&'"'===e[e.length-1])return e=e.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"),e.replace(/\\\\|\\t|\\n/g,function(e){return"t"===e[1]?"\t":"n"===e[1]?"\n":"\\"}).replace(/\\x([0-9a-f]+)/gi,function(e,n){return String.fromCharCode(parseInt(n,16))}).replace(/\\0([0-7]+)/g,function(e,n){return String.fromCharCode(parseInt(n,8))});if(e.match(/^\/(\\\/|[^\/])+\/[gimy]*$/)){var n=e.match(/^\/([^\/]+)\/([^\/]*)$/);return new RegExp(n[1],n[2])}return e.match(/^-?[0-9]+$/)?parseInt(e,10):e.match(t)?parseFloat(e):e.replace(/\\ /g," ")})},split_arguments:function(n){return e.map(n.match(L)||[],function(e){return"'"===e[0]&&"'"===e[e.length-1]?e.replace(/^'|'$/g,""):'"'===e[0]&&'"'===e[e.length-1]?e.replace(/^"|"$/g,"").replace(/\\([" ])/g,"$1"):e.match(/\/.*\/[gimy]*$/)?e:e.replace(/\\ /g," ")})},parse_command:function(n){return p(n,e.terminal.parse_arguments)},split_command:function(n){return p(n,e.terminal.split_arguments)},extended_command:function(e,n){try{V=!1,e.exec(n,!0).then(function(){V=!0})}catch(t){}}},e.fn.visible=function(){return this.css("visibility","visible")},e.fn.hidden=function(){return this.css("visibility","hidden")};var H={};e.jrpc=function(n,t,r,i,o){H[n]=H[n]||0;var a=JSON.stringify({jsonrpc:"2.0",method:t,params:r,id:++H[n]});return e.ajax({url:n,data:a,success:function(n,t,r){var a=r.getResponseHeader("Content-Type");if(!a.match(/(application|text)\/json/)){var s="Response Content-Type is neither application/json nor text/json";if(!console||!console.warn)throw new Error("WARN: "+s);console.warn(s)}var c;try{c=e.parseJSON(n)}catch(l){if(!o)throw new Error("Invalid JSON");return void o(r,"Invalid JSON",l)}i(c,t,r)},error:o,contentType:"application/json",dataType:"text",async:!0,cache:!1,type:"POST"})};var J=!e.terminal.version.match(/^\{\{/),B="Copyright (c) 2011-2016 Jakub Jankiewicz <http://jcubic.pl>",W=J?" v. "+e.terminal.version:" ",q=new RegExp(" {"+W.length+"}$"),Y="jQuery Terminal Emulator"+(J?W:""),U=[["jQuery Terminal","(c) 2011-2016 jcubic"],[Y,B.replace(/^Copyright | *<.*>/g,"")],[Y,B.replace(/^Copyright /,"")],["      _______                 ________                        __","     / / _  /_ ____________ _/__  ___/______________  _____  / /"," __ / / // / // / _  / _/ // / / / _  / _/     / /  \\/ / _ \\/ /","/  / / // / // / ___/ // // / / / ___/ // / / / / /\\  / // / /__","\\___/____ \\\\__/____/_/ \\__ / /_/____/_//_/_/_/ /_/  \\/\\__\\_\\___/","         \\/          /____/                                   ".replace(q," ")+W,B],["      __ _____                     ________                              __","     / // _  /__ __ _____ ___ __ _/__  ___/__ ___ ______ __ __  __ ___  / /"," __ / // // // // // _  // _// // / / // _  // _//     // //  \\/ // _ \\/ /","/  / // // // // // ___// / / // / / // ___// / / / / // // /\\  // // / /__","\\___//____ \\\\___//____//_/ _\\_  / /_//____//_/ /_/ /_//_//_/ /_/ \\__\\_\\___/","          \\/              /____/                                          ".replace(q,"")+W,B]];e.terminal.defaults={prompt:"> ",history:!0,exit:!0,clear:!0,enabled:!0,historySize:60,maskChar:"*",wrap:!0,checkArity:!0,raw:!1,exceptionHandler:null,memory:!1,cancelableAjax:!0,processArguments:!0,linksNoReferrer:!1,processRPCResponse:null,Token:!0,convertLinks:!0,historyState:!1,echoCommand:!0,scrollOnEcho:!0,login:null,outputLimit:-1,formatters:[],onAjaxError:null,onRPCError:null,completion:!1,historyFilter:null,onInit:e.noop,onClear:e.noop,onBlur:e.noop,onFocus:e.noop,onTerminalChange:e.noop,onExit:e.noop,keypress:e.noop,keydown:e.noop,strings:{wrongPasswordTryAgain:"Wrong password try again!",wrongPassword:"Wrong password!",ajaxAbortError:"Error while aborting ajax call!",wrongArity:"Wrong number of arguments. Function '%s' expects %s got %s!",commandNotFound:"Command '%s' Not Found!",oneRPCWithIgnore:"You can use only one rpc with ignoreSystemDescribe",oneInterpreterFunction:"You can't use more than one function (rpcwith ignoreSystemDescribe counts as one)",loginFunctionMissing:"You didn't specify a login function",noTokenError:"Access denied (no token)",serverResponse:"Server responded",wrongGreetings:"Wrong value of greetings parameter",notWhileLogin:"You can't call `%s' function while in login",loginIsNotAFunction:"Authenticate must be a function",canExitError:"You can't exit from main interpreter",invalidCompletion:"Invalid completion",invalidSelector:'Sorry, but terminal said that "%s" is not valid selector!',invalidTerminalId:"Invalid Terminal ID",login:"login",password:"password",recursiveCall:"Recursive call detected, skip"}};var X,Z=[],G=new l,Q=[],V=!1,ee=!0,ne=!0;e.fn.terminal=function(t,r){function i(n){
n&&(this.storage={}),this.set=function(t,r){n?this.storage[t]=r:e.Storage.set(t,r)},this.get=function(t){return n?this.storage[t]:e.Storage.get(t)},this.remove=function(t){n?delete this.storage[t]:e.Storage.remove(t)}}function o(n){return e.isFunction(Ce.processArguments)?p(n,Ce.processArguments):Ce.processArguments?e.terminal.parse_command(n):e.terminal.split_command(n)}function a(n){"string"==typeof n?ce.echo(n):n instanceof Array?ce.echo(e.map(n,function(e){return JSON.stringify(e)}).join(" ")):"object"==typeof n?ce.echo(JSON.stringify(n)):ce.echo(n)}function s(n){var t=/(.*):([0-9]+):([0-9]+)$/,r=n.match(t);r&&(ce.pause(),e.get(r[1],function(n){var t=location.href.replace(/[^\/]+$/,""),i=r[1].replace(t,"");ce.echo("[[b;white;]"+i+"]");var o=n.split("\n"),a=+r[2]-1;ce.echo(o.slice(a-2,a+3).map(function(n,t){return 2==t&&(n="[[;#f00;]"+e.terminal.escape_brackets(n)+"]"),"["+(a+t)+"]: "+n}).join("\n")).resume()},"text"))}function c(n){if(e.isFunction(Ce.onRPCError))Ce.onRPCError.call(ce,n);else if(ce.error("&#91;RPC&#93; "+n.message),n.error&&n.error.message){n=n.error;var t="\t"+n.message;n.file&&(t+=' in file "'+n.file.replace(/.*\//,"")+'"'),n.at&&(t+=" at line "+n.at),ce.error(t)}}function l(n,t){var r=function(t,r){ce.pause(),e.jrpc(n,t,r,function(n){n.error?c(n.error):e.isFunction(Ce.processRPCResponse)?Ce.processRPCResponse.call(ce,n.result,ce):a(n.result),ce.resume()},h)};return function(e,n){if(""!==e){try{e=o(e)}catch(i){return void n.error(i.toString())}if(t&&"help"!==e.name){var a=n.token();a?r(e.name,[a].concat(e.args)):n.error("&#91;AUTH&#93; "+Te.noTokenError)}else r(e.name,e.args)}}}function f(t,r,i,a){return function(s,c){if(""!==s){var l;try{l=o(s)}catch(u){return void ce.error(u.toString())}var h=t[l.name],p=e.type(h);if("function"===p){if(!r||h.length===l.args.length)return h.apply(ce,l.args);ce.error("&#91;Arity&#93; "+sprintf(Te.wrongArity,l.name,h.length,l.args.length))}else if("object"===p||"string"===p){var m=[];"object"===p&&(m=Object.keys(h),h=f(h,r,i)),c.push(h,{prompt:l.name+"> ",name:l.name,completion:"object"===p?m:n})}else e.isFunction(a)?a(s,ce):e.isFunction(Ce.onCommandNotFound)?Ce.onCommandNotFound(s,ce):c.error(sprintf(Te.commandNotFound,l.name))}}}function h(n,t,r){ce.resume(),e.isFunction(Ce.onAjaxError)?Ce.onAjaxError.call(ce,n,t,r):"abort"!==t&&ce.error("&#91;AJAX&#93; "+t+" - "+Te.serverResponse+": \n"+e.terminal.escape_brackets(n.responseText))}function m(n,t,r){e.jrpc(n,"system.describe",[],function(i){if(i.procs){var o={};e.each(i.procs,function(r,i){o[i.name]=function(){var r=t&&"help"!=i.name,o=Array.prototype.slice.call(arguments),s=o.length+(r?1:0);if(Ce.checkArity&&i.params&&i.params.length!==s)ce.error("&#91;Arity&#93; "+sprintf(Te.wrongArity,i.name,i.params.length,s));else{if(ce.pause(),r){var l=ce.token(!0);l?o=[l].concat(o):ce.error("&#91;AUTH&#93; "+Te.noTokenError)}e.jrpc(n,i.name,o,function(n){n.error?c(n.error):e.isFunction(Ce.processRPCResponse)?Ce.processRPCResponse.call(ce,n.result,ce):a(n.result),ce.resume()},h)}}}),o.help=o.help||function(n){if("undefined"==typeof n)ce.echo("Available commands: "+i.procs.map(function(e){return e.name}).join(", ")+", help");else{var t=!1;if(e.each(i.procs,function(e,r){if(r.name==n){t=!0;var i="";return i+="[[bu;#fff;]"+r.name+"]",r.params&&(i+=" "+r.params.join(" ")),r.help&&(i+="\n"+r.help),ce.echo(i),!1}}),!t)if("help"==n)ce.echo("[[bu;#fff;]help] [method]\ndisplay help for the method or list of methods if not specified");else{var r="Method `"+n.toString()+"' not found ";ce.error(r)}}},r(o)}else r(null)},function(){r(null)})}function y(n,t,r){r=r||e.noop;var i,o,a=e.type(n),s={},c=0;if("array"===a)i={},function u(n,r){if(n.length){var a=n[0],s=n.slice(1),f=e.type(a);"string"===f?(c++,ce.pause(),Ce.ignoreSystemDescribe?(1===c?o=l(a,t):ce.error(Te.oneRPCWithIgnore),u(s,r)):m(a,t,function(n){n&&e.extend(i,n),ce.resume(),u(s,r)})):"function"===f?(o?ce.error(Te.oneInterpreterFunction):o=a,u(s,r)):"object"===f&&(e.extend(i,a),u(s,r))}else r()}(n,function(){r({interpreter:f(i,!1,t,o),completion:Object.keys(i)})});else if("string"===a)Ce.ignoreSystemDescribe?(i={interpreter:l(n,t)},e.isArray(Ce.completion)&&(i.completion=Ce.completion),r(i)):(ce.pause(),m(n,t,function(e){e?(s.interpreter=f(e,!1,t),s.completion=Object.keys(e)):s.interpreter=l(n,t),r(s),ce.resume()}));else if("object"===a)r({interpreter:f(n,Ce.checkArity),completion:Object.keys(n)});else{if("undefined"===a)n=e.noop;else if("function"!==a)throw a+" is invalid interpreter value";r({interpreter:n,completion:Ce.completion})}}function b(n,t){var r="boolean"===e.type(t)?"login":t;return function(t,i,o,a){ce.pause(),e.jrpc(n,r,[t,i],function(e){o(!e.error&&e.result?e.result:null),ce.resume()},h)}}function x(e){return"string"==typeof e?e:"string"==typeof e.fileName?e.fileName+": "+e.message:e.message}function k(n,t){e.isFunction(Ce.exceptionHandler)?Ce.exceptionHandler.call(ce,n):ce.exception(n,t)}function C(){var e;e=le.prop?le.prop("scrollHeight"):le.attr("scrollHeight"),le.scrollTop(e)}function S(n,t){try{if(e.isFunction(t))t(function(){});else if("string"!=typeof t){var r=n+" must be string or function";throw r}}catch(i){return k(i,n.toUpperCase()),!1}return!0}function T(t,r){Ce.convertLinks&&(t=t.replace(N,"[[!;;]$1]").replace(I,"[[!;;]$1]"));var i,o,a=e.terminal.defaults.formatters;if(!r.raw){for(i=0;i<a.length;++i)try{if("function"==typeof a[i]){var s=a[i](t);"string"==typeof s&&(t=s)}}catch(c){alert("formatting error at formatters["+i+"]\n"+(c.stack?c.stack:c))}t=e.terminal.encode(t)}if(ie.push(oe),!r.raw&&(t.length>he||t.match(/\n/))&&(Ce.wrap===!0&&r.wrap===n||Ce.wrap===!1&&r.wrap===!0)){var l=r.keepWords,u=e.terminal.split_equal(t,he,l);for(i=0,o=u.length;i<o;++i)""===u[i]||"\r"===u[i]?ie.push("<span></span>"):r.raw?ie.push(u[i]):ie.push(e.terminal.format(u[i],{linksNoReferrer:Ce.linksNoReferrer}))}else r.raw?ie.push(t):(t=e.terminal.format(t,{linksNoReferrer:Ce.linksNoReferrer}),t.split(/\n/).forEach(function(e){ie.push(e)}));ie.push(r.finalize)}function E(n,t){try{var r=e.extend({exec:!0,raw:!1,finalize:e.noop},t||{}),i="function"===e.type(n)?n():n;i="string"===e.type(i)?i:String(i),""!==i&&(r.exec?(i=e.map(i.split(M),function(n){return n.match(M)&&!e.terminal.is_formatting(n)?(n=n.replace(/^\[\[|\]\]$/g,""),ue&&ue.command==n?ce.error(Te.recursiveCall):e.terminal.extended_command(ce,n),""):n}).join(""),""!==i&&T(i,r)):T(i,r))}catch(o){ie=[],alert("[Internal Exception(process_line)]:"+x(o)+"\n"+o.stack)}}function A(){Pe.resize(he);var n,t=fe.empty().detach();if(Ce.outputLimit>=0){var r=0===Ce.outputLimit?ce.rows():Ce.outputLimit;n=ve.slice(ve.length-r-1)}else n=ve;try{ie=[],e.each(n,function(e,n){E.apply(null,n)}),Pe.before(t),ce.flush()}catch(i){alert("Exception in redraw\n"+i.stack)}}function R(){if(Ce.greetings===n)ce.echo(ce.signature);else if(Ce.greetings){var e=typeof Ce.greetings;"string"===e?ce.echo(Ce.greetings):"function"===e?Ce.greetings.call(ce,ce.echo):ce.error(Te.wrongGreetings)}}function j(n){var t=Pe.prompt(),r=Pe.mask();switch(typeof r){case"string":n=n.replace(/./g,r);break;case"boolean":n=r?n.replace(/./g,Ce.maskChar):e.terminal.escape_formatting(n)}var i={finalize:function(e){e.addClass("command")}};e.isFunction(t)?t(function(e){ce.echo(e+n,i)}):ce.echo(t+n,i)}function $(e){var n=G.get()[e[0]];if(!n)throw new Error(Te.invalidTerminalId);var t=e[1];if(Q[t])n.import_view(Q[t]);else{V=!1;var r=e[2];r&&n.exec(r).then(function(){V=!0,Q[t]=n.export_view()})}}function O(){V&&(ee=!1,location.hash="#"+JSON.stringify(X),setTimeout(function(){ee=!0},100))}function L(t,r,i){function o(){i||(V=!0,Ce.historyState&&ce.save_state(t,!1),V=l),c.resolve(),e.isFunction(Ce.onAfterCommand)&&Ce.onAfterCommand(ce,t)}re=t,ae&&(ae=!1,(Ce.historyState||Ce.execHash&&i)&&(Q.length?ce.save_state(null):ce.save_state()));try{if(e.isFunction(Ce.onBeforeCommand)&&Ce.onBeforeCommand(ce,t)===!1)return;i||(ue=e.terminal.split_command(t)),W()||i&&(e.isFunction(Ce.historyFilter)&&Ce.historyFilter(t)||t.match(Ce.historyFilter))&&Pe.history().append(t);var s=Le.top();!r&&Ce.echoCommand&&j(t);var c=new e.Deferred,l=V;if(t.match(/^\s*login\s*$/)&&ce.token(!0))ce.level()>1?ce.logout(!0):ce.logout(),o();else if(Ce.exit&&t.match(/^\s*exit\s*$/)&&!be){var u=ce.level();(1==u&&ce.get_token()||u>1)&&(ce.get_token(!0)&&ce.set_token(n,!0),ce.pop()),o()}else if(Ce.clear&&t.match(/^\s*clear\s*$/)&&!be)ce.clear(),o();else{var f=ve.length-1,h=s.interpreter.call(ce,t,ce);if(h!==n)return ce.pause(!0),e.when(h).then(function(e){e&&f===ve.length-1&&a(e),o(),ce.resume()});if(Ae){se.push(function(){o()})}else o()}return c.promise()}catch(p){throw k(p,"USER"),ce.resume(),p}}function P(){if(e.isFunction(Ce.onBeforeLogout))try{if(Ce.onBeforeLogout(ce)===!1)return}catch(n){k(n,"onBeforeLogout")}if(K(),e.isFunction(Ce.onAfterLogout))try{Ce.onAfterLogout(ce)}catch(n){k(n,"onAfterlogout")}ce.login(Ce.login,!0,J)}function K(){var e=ce.prefix_name(!0)+"_";Se.remove(e+"token"),Se.remove(e+"login")}function D(n){var t=ce.prefix_name()+"_interpreters",r=Se.get(t);r=r?e.parseJSON(r):[],e.inArray(n,r)==-1&&(r.push(n),Se.set(t,JSON.stringify(r)))}function H(n){var t=Le.top(),r=ce.prefix_name(!0);W()||D(r),Pe.name(r),e.isFunction(t.prompt)?Pe.prompt(function(e){t.prompt(e,ce)}):Pe.prompt(t.prompt),Pe.set(""),!n&&e.isFunction(t.onStart)&&t.onStart(ce)}function J(){function n(){if(ee&&Ce.execHash)try{if(location.hash){var n=location.hash.replace(/^#/,"");X=e.parseJSON(decodeURIComponent(n))}else X=[];X.length?$(X[X.length-1]):Q[0]&&ce.import_view(Q[0])}catch(t){k(t,"TERMINAL")}}H(),R();var t=!1;if(e.isFunction(Ce.onInit)){xe=function(){t=!0};try{Ce.onInit(ce)}catch(r){k(r,"OnInit")}finally{xe=e.noop,t||ce.resume()}}ne&&(ne=!1,e.fn.hashchange?e(window).hashchange(n):e(window).bind("hashchange",n))}function B(n,t,r){Ce.clear&&e.inArray("clear",r)==-1&&r.push("clear"),Ce.exit&&e.inArray("exit",r)==-1&&r.push("exit");var i=Pe.get().substring(0,Pe.position());if(i===n){for(var o=new RegExp("^"+e.terminal.escape_regex(t)),a=[],s=r.length;s--;)o.test(r[s])&&a.push(r[s]);if(1===a.length)ce.insert(a[0].replace(o,""));else if(a.length>1)if(de>=2){j(n);var c=a.reverse().join("\t");ce.echo(e.terminal.escape_brackets(c),{keepWords:!0}),de=0}else{var l,u=!1;e:for(l=t.length;l<a[0].length;++l){for(s=1;s<a.length;++s)if(a[0].charAt(l)!==a[s].charAt(l))break e;u=!0}u&&ce.insert(a[0].slice(0,l).replace(o,""))}}}function W(){return be||Pe.mask()!==!1}function q(t){var r,i,o,a=Le.top();if(!ce.paused()&&ce.enabled()){if(e.isFunction(a.keydown)){if(r=a.keydown(t,ce),r!==n)return r}else if(e.isFunction(Ce.keydown)&&(r=Ce.keydown(t,ce),r!==n))return r;if(o=Ce.completion&&"boolean"!=e.type(Ce.completion)&&a.completion===n?Ce.completion:a.completion,"settings"==o&&(o=Ce.completion),ce.oneTime(10,function(){je()}),9!==t.which&&(de=0),68===t.which&&t.ctrlKey)return be||(""===Pe.get()?Le.size()>1||Ce.login!==n?ce.pop(""):(ce.resume(),ce.echo("")):ce.set_command("")),!1;if(76===t.which&&t.ctrlKey)ce.clear();else{if(o&&9===t.which){++de;var s,c=Pe.position(),l=Pe.get().substring(0,c),u=l.split(" ");if(1==Te.length)s=u[0];else for(s=u[u.length-1],i=u.length-1;i>0&&"\\"==u[i-1][u[i-1].length-1];i--)s=u[i-1]+" "+s;switch(e.type(o)){case"function":o(ce,s,function(e){B(l,s,e)});break;case"array":B(l,s,o);break;default:throw new Error(Te.invalidCompletion)}return!1}if((118===t.which||86===t.which)&&(t.ctrlKey||t.metaKey))return void ce.oneTime(1,function(){C()});if(9===t.which&&t.ctrlKey){if(G.length()>1)return ce.focus(!1),!1}else 34===t.which?ce.scroll(ce.height()):33===t.which?ce.scroll(-ce.height()):ce.attr({scrollTop:ce.attr("scrollHeight")})}}else if(68===t.which&&t.ctrlKey){if(Z.length){for(i=Z.length;i--;){var f=Z[i];if(4!==f.readyState)try{f.abort()}catch(h){ce.error(Te.ajaxAbortError)}}Z=[],ce.resume()}return!1}}function Y(){Ke&&ce.focus()}function te(){Ke=Fe,ce.disable()}var re,ie=[],oe=1,ae=!0,se=[],ce=this;if(this.length>1)return this.each(function(){e.fn.terminal.call(e(this),t,e.extend({name:ce.selector},r))});if(ce.data("terminal"))return ce.data("terminal");if(0===ce.length)throw sprintf(e.terminal.defaults.strings.invalidSelector,ce.selector);var le,ue,fe,he,pe,me,ge,de=0,ve=[],we=G.length(),ye=new u,_e=e.Deferred(),be=!1,xe=e.noop,ke=[],Ce=e.extend({},e.terminal.defaults,{name:ce.selector},r||{}),Se=new i(Ce.memory),Te=e.terminal.defaults.strings,Fe=Ce.enabled,Ee=!1,Ae=!1,Re=!0;e.extend(ce,e.omap({id:function(){return we},clear:function(){fe.html(""),ve=[];try{Ce.onClear(ce)}catch(e){k(e,"onClear")}return ce.attr({scrollTop:0}),ce},export_view:function(){var n={};if(e.isFunction(Ce.onExport))try{n=Ce.onExport()}catch(t){k(t,"onExport")}return e.extend({},{focus:Fe,mask:Pe.mask(),prompt:ce.get_prompt(),command:ce.get_command(),position:Pe.position(),lines:_(ve),interpreters:Le.clone()},n)},import_view:function(n){if(be)throw new Error(sprintf(Te.notWhileLogin,"import_view"));if(e.isFunction(Ce.onImport))try{Ce.onImport(n)}catch(t){k(t,"onImport")}return _e.then(function(){ce.set_prompt(n.prompt),ce.set_command(n.command),Pe.position(n.position),Pe.mask(n.mask),n.focus&&ce.focus(),ve=_(n.lines),Le=n.interpreters,A()}),ce},save_state:function(t,r,i){if("undefined"!=typeof i?Q[i]=ce.export_view():Q.push(ce.export_view()),e.isArray(X)||(X=[]),t!==n&&!r){var o=[we,Q.length-1,t];X.push(o),O()}},exec:function(n,t,r){function i(){e.isArray(n)?!function r(){var e=n.shift();e?ce.exec(e,t).then(r):o.resolve()}():Ae?ke.push([n,t,o]):L(n,t,!0).then(function(){o.resolve(ce)})}var o=r||new e.Deferred;return"resolved"!=_e.state()?_e.then(i):i(),o.promise()},autologin:function(e,n,t){return ce.trigger("terminal.autologin",[e,n,t]),ce},login:function(n,t,r,i){function o(n,o,s,c){if(o){for(;ce.level()>a;)ce.pop();Ce.history&&Pe.history().enable();var l=ce.prefix_name(!0)+"_";Se.set(l+"token",o),Se.set(l+"login",n),be=!1,e.isFunction(r)&&r()}else t?(s||ce.error(Te.wrongPasswordTryAgain),ce.pop().set_mask(!1)):(be=!1,s||ce.error(Te.wrongPassword),ce.pop().pop()),e.isFunction(i)&&i();ce.off("terminal.autologin")}if(ye.push([].slice.call(arguments)),be)throw new Error(sprintf(Te.notWhileLogin,"login"));if(!e.isFunction(n))throw new Error(Te.loginIsNotAFunction);if(be=!0,ce.token()&&1==ce.level()&&!Re)be=!1,ce.logout(!0);else if(ce.token(!0)&&ce.login_name(!0))return be=!1,e.isFunction(r)&&r(),ce;Ce.history&&Pe.history().disable();var a=ce.level();return ce.on("terminal.autologin",function(e,n,t,r){o(n,t,r)}),ce.push(function(e){ce.set_mask(Ce.maskChar).push(function(t){try{n.call(ce,e,t,function(n,t){o(e,n,t)})}catch(r){k(r,"AUTH")}},{prompt:Te.password+": ",name:"password"})},{prompt:Te.login+": ",name:"login"}),ce},settings:function(){return Ce},commands:function(){return Le.top().interpreter},setInterpreter:function(){return window.console&&console.warn&&console.warn("This function is deprecated, use set_interpreter insead!"),ce.set_interpreter.apply(ce,arguments)},set_interpreter:function(n,t){function r(){ce.pause(),y(n,!!t,function(n){ce.resume();var t=Le.top();e.extend(t,n),H(!0)})}return"string"==e.type(n)&&t?ce.login(b(n,t),!0,r):r(),ce},greetings:function(){return R(),ce},paused:function(){return Ae},pause:function(n){return xe(),!Ae&&Pe&&_e.then(function(){Ae=!0,Pe.disable(),n||Pe.hidden(),e.isFunction(Ce.onPause)&&Ce.onPause()}),ce},resume:function(){function n(){Ae=!1,G.front()==ce&&Pe.enable(),Pe.visible();var n=ke;ke=[];for(var t=0;t<n.length;++t)ce.exec.apply(ce,n[t]);ce.trigger("resume");var r=se.shift();r&&r(),C(),e.isFunction(Ce.onResume)&&Ce.onResume()}return Ae&&Pe&&("resolved"!=_e.state()?_e.then(n):n()),ce},cols:function(){return Ce.numChars?Ce.numChars:g(ce)},rows:function(){return Ce.numRows?Ce.numRows:d(ce)},history:function(){return Pe.history()},history_state:function(e){return e?ce.oneTime(1,function(){Ce.historyState=!0,Q.length?G.length()>1&&ce.save_state(null):ce.save_state()}):Ce.historyState=!1,ce},clear_history_state:function(){return X=[],Q=[],ce},next:function(){if(1===G.length())return ce;ce.offset().top,ce.height(),ce.scrollTop();G.front().disable();var n=G.rotate().enable(),t=n.offset().top-50;e("html,body").animate({scrollTop:t},500);try{Ce.onTerminalChange(n)}catch(r){k(r,"onTerminalChange")}return n},focus:function(e,n){return _e.then(function(){if(1===G.length())if(e===!1)try{(!n&&Ce.onBlur(ce)!==!1||n)&&ce.disable()}catch(t){k(t,"onBlur")}else try{(!n&&Ce.onFocus(ce)!==!1||n)&&ce.enable()}catch(t){k(t,"onFocus")}else if(e===!1)ce.next();else{var r=G.front();if(r!=ce&&(r.disable(),!n))try{Ce.onTerminalChange(ce)}catch(t){k(t,"onTerminalChange")}G.set(ce),ce.enable()}}),ce},freeze:function(e){_e.then(function(){e?(ce.disable(),Ee=!0):(Ee=!1,ce.enable())})},frozen:function(){return Ee},enable:function(){return Fe||Ee||(he===n&&ce.resize(),_e.then(function(){Pe.enable(),Fe=!0})),ce},disable:function(){return Fe&&!Ee&&_e.then(function(){Fe=!1,Pe.disable()}),ce},enabled:function(){return Fe},signature:function(){var e=ce.cols(),n=e<15?null:e<35?0:e<55?1:e<64?2:e<75?3:4;return null!==n?U[n].join("\n")+"\n":""},version:function(){return e.terminal.version},cmd:function(){return Pe},get_command:function(){return Pe.get()},set_command:function(e){return _e.then(function(){Pe.set(e)}),ce},insert:function(e){if("string"==typeof e)return _e.then(function(){Pe.insert(e)}),ce;throw"insert function argument is not a string"},set_prompt:function(n){return _e.then(function(){S("prompt",n)&&(e.isFunction(n)?Pe.prompt(function(e){n(e,ce)}):Pe.prompt(n),Le.top().prompt=n)}),ce},get_prompt:function(){return Le.top().prompt},set_mask:function(e){return _e.then(function(){Pe.mask(e===!0?Ce.maskChar:e)}),ce},get_output:function(n){return n?ve:e.map(ve,function(n){return e.isFunction(n[0])?n[0]():n[0]}).join("\n")},resize:function(n,t){if(ce.is(":visible")){n&&t&&(ce.width(n),ce.height(t)),n=ce.width(),t=ce.height();var r=ce.cols(),i=ce.rows();if(r!==he||i!==pe){he=r,pe=i,A();var o=Le.top();e.isFunction(o.resize)?o.resize(ce):e.isFunction(Ce.onResize)&&Ce.onResize(ce),ge=t,me=n,C()}}else ce.stopTime("resize"),ce.oneTime(500,"resize",function(){ce.resize(n,t)});return ce},flush:function(){try{var n;if(e.each(ie,function(t,r){if(r===oe)n=e("<div></div>");else if(e.isFunction(r)){n.appendTo(fe);try{r(n)}catch(i){k(i,"USER:echo(finalize)")}}else e("<div/>").html(r).appendTo(n).width("100%")}),Ce.outputLimit>=0){var t=0===Ce.outputLimit?ce.rows():Ce.outputLimit,r=fe.find("div div");if(r.length>t){var i=r.length-t+1,o=r.slice(0,i),a=o.parent();o.remove(),a.each(function(){var n=e(this);n.is(":empty")&&n.remove()})}}pe=d(ce),je(),Ce.scrollOnEcho&&C(),ie=[]}catch(s){alert("[Flush] "+x(s)+"\n"+s.stack)}return ce},update:function(e,n){return _e.then(function(){e<0&&(e=ve.length+e),ve[e]?(null===n?ve.splice(e,1):ve[e][0]=n,A()):ce.error("Invalid line number "+e)}),ce},last_index:function(){return ve.length-1},echo:function(n,t){return n=n||"",e.when(n).then(function(n){try{var r=e.extend({flush:!0,raw:Ce.raw,finalize:e.noop,keepWords:!1},t||{});r.flush&&(ie=[]),E(n,r),ve.push([n,e.extend(r,{exec:!1})]),r.flush&&ce.flush()}catch(i){alert("[Terminal.echo] "+x(i)+"\n"+i.stack)}}),ce},error:function(n,t){var r=e.terminal.escape_brackets(n).replace(/\\$/,"&#92;").replace(z,"]$1[[;;;error]");return ce.echo("[[;;;error]"+r+"]",t)},exception:function(n,t){var r=x(n);if(t&&(r="&#91;"+t+"&#93;: "+r),r&&ce.error(r,{finalize:function(e){e.addClass("exception message")}}),"string"==typeof n.fileName&&(ce.pause(),e.get(n.fileName,function(e){ce.resume();var t=n.lineNumber-1,r=e.split("\n")[t];r&&ce.error("["+n.lineNumber+"]: "+r)})),n.stack){var i=e.terminal.escape_brackets(n.stack);ce.echo(i.split(/\n/g).map(function(e){return"[[;;;error]"+e.replace(z,function(e){return"]"+e+"[[;;;error]"})+"]"}).join("\n"),{finalize:function(e){e.addClass("exception stack-trace")}})}},scroll:function(e){var n;return e=Math.round(e),le.prop?(e>le.prop("scrollTop")&&e>0&&le.prop("scrollTop",0),n=le.prop("scrollTop"),le.scrollTop(n+e)):(e>le.attr("scrollTop")&&e>0&&le.attr("scrollTop",0),n=le.attr("scrollTop"),le.scrollTop(n+e)),ce},logout:function(e){if(be)throw new Error(sprintf(Te.notWhileLogin,"logout"));return _e.then(function(){if(e){var t=ye.pop();ce.set_token(n,!0),ce.login.apply(ce,t)}else for(;Le.size()>0&&!ce.pop(););}),ce},token:function(e){return Se.get(ce.prefix_name(e)+"_token")},set_token:function(e,n){var t=ce.prefix_name(n)+"_token";return"undefined"==typeof e?Se.remove(t,e):Se.set(t,e),ce},get_token:function(e){return Se.get(ce.prefix_name(e)+"_token")},login_name:function(e){return Se.get(ce.prefix_name(e)+"_login")},name:function(){return Le.top().name},prefix_name:function(e){var n=(Ce.name?Ce.name+"_":"")+we;if(e&&Le.size()>1){var t=Le.map(function(e){return e.name}).slice(1).join("_");t&&(n+="_"+t)}return n},read:function(n,t){var r=new e.Deferred;return ce.push(function(n){ce.pop(),e.isFunction(t)&&t(n),r.resolve(n)},{prompt:n}),r.promise()},push:function(t,r){return _e.then(function(){r=r||{};var i={infiniteLogin:!1},o=e.extend({},i,r);!o.name&&ue&&(o.name=ue.name),o.prompt===n&&(o.prompt=(o.name||">")+" ");var a=Le.top();a&&(a.mask=Pe.mask());var s=Ae;y(t,!!r.login,function(n){if(Le.push(e.extend({},n,o)),e.isArray(n.completion)&&o.completion===!0?Le.top().completion=n.completion:n.completion||o.completion!==!0||(Le.top().completion=!1),o.login){var r=e.type(o.login);"function"==r?ce.login(o.login,o.infiniteLogin,H,o.infiniteLogin?e.noop:ce.pop):("string"==e.type(t)&&"string"==r||"boolean"==r)&&ce.login(b(t,o.login),o.infiniteLogin,H,o.infiniteLogin?e.noop:ce.pop)}else H();s||ce.resume()})}),ce},pop:function(t){t!==n&&j(t);ce.token(!0);if(1==Le.size()){if(Ce.login){if(P(),e.isFunction(Ce.onExit))try{Ce.onExit(ce)}catch(r){k(r,"onExit")}return!0}ce.error(Te.canExitError)}else{ce.token(!0)&&K();var i=Le.pop();if(H(),be&&ce.get_prompt()!=Te.login+": "&&(be=!1),e.isFunction(i.onExit))try{i.onExit(ce)}catch(r){k(r,"onExit")}ce.set_mask(Le.top().mask)}return ce},option:function(n,t){if("undefined"==typeof t){if("string"==typeof n)return Ce[n];"object"==typeof n&&e.each(n,function(e,n){Ce[e]=n})}else Ce[n]=t;return ce},level:function(){return Le.size()},reset:function(){return _e.then(function(){for(ce.clear();Le.size()>1;)Le.pop();J()}),ce},purge:function(){return _e.then(function(){var n=ce.prefix_name()+"_",t=Se.get(n+"interpreters");e.each(e.parseJSON(t),function(e,n){Se.remove(n+"_commands"),Se.remove(n+"_token"),Se.remove(n+"_login")}),Pe.purge(),Se.remove(n+"interpreters")}),ce},destroy:function(){return _e.then(function(){Pe.destroy().remove(),fe.remove(),e(document).unbind(".terminal"),e(window).unbind(".terminal"),ce.unbind("click mousewheel mousedown mouseup"),ce.removeData("terminal").removeClass("terminal"),Ce.width&&ce.css("width",""),Ce.height&&ce.css("height",""),e(window).off("blur",te).off("focus",Y),G.remove(we)}),ce}},function(e,n){return function(){try{return n.apply(ce,[].slice.apply(arguments))}catch(t){throw"exec"!==e&&"resume"!==e&&k(t,"TERMINAL"),t}}}));var je=function(){var e=w(ce);return function(){e!==w(ce)&&(ce.resize(),e=w(ce))}}();Ce.width&&ce.width(Ce.width),Ce.height&&ce.height(Ce.height);var $e=navigator.userAgent.toLowerCase();if(le=$e.match(/(webkit)[ \/]([\w.]+)/)||"body"!=ce[0].tagName.toLowerCase()?ce:e("html"),e(document).bind("ajaxSend.terminal",function(e,n,t){Z.push(n)}),fe=e("<div>").addClass("terminal-output").appendTo(ce),ce.addClass("terminal"),Ce.login&&e.isFunction(Ce.onBeforeLogin))try{Ce.onBeforeLogin(ce)===!1&&(Re=!1)}catch(Oe){throw k(Oe,"onBeforeLogin"),Oe}var ze;Ce.login;if("string"==typeof t)ze=t;else if(t instanceof Array)for(var Ie=0,Ne=t.length;Ie<Ne;++Ie)if("string"==typeof t[Ie]){ze=t[Ie];break}!ze||"string"!=typeof Ce.login&&Ce.login!==!0||(Ce.login=b(ze,Ce.login)),G.append(ce);var Le,Pe,Ke;return y(t,!!Ce.login,function(t){function r(n){var t=G.get()[n[0]];if(t&&we==t.id()&&n[2])try{if(Ae){var r=e.Deferred();return se.push(function(){return t.exec(n[2]).then(function(e,i){t.save_state(n[2],!0,n[1]),r.resolve()})}),r.promise()}return t.exec(n[2]).then(function(e,r){t.save_state(n[2],!0,n[1])})}catch(i){var o=e.terminal.escape_brackets(command),a="Error while exec with command "+o;t.error(a).exception(i)}}(Ce.completion&&"boolean"!=typeof Ce.completion||!Ce.completion)&&(t.completion="settings"),Le=new u(e.extend({name:Ce.name,prompt:Ce.prompt,keypress:Ce.keypress,keydown:Ce.keydown,resize:Ce.onResize,greetings:Ce.greetings,mousewheel:Ce.mousewheel},t)),Pe=e("<div/>").appendTo(ce).cmd({prompt:Ce.prompt,history:Ce.memory?"memory":Ce.history,historyFilter:Ce.historyFilter,historySize:Ce.historySize,width:"100%",enabled:Fe&&!F,keydown:q,keypress:function(n){var t=Le.top();return e.isFunction(t.keypress)?t.keypress(n,ce):e.isFunction(Ce.keypress)?Ce.keypress(n,ce):void 0},onCommandChange:function(n){if(e.isFunction(Ce.onCommandChange))try{Ce.onCommandChange(n,ce)}catch(t){throw k(t,"onCommandChange"),t}C()},commands:L}),Fe&&ce.is(":visible")&&!F?ce.focus(n,!0):ce.disable(),ce.oneTime(100,function(){function n(n){var t=e(n.target);!t.closest(".terminal").length&&ce.enabled()&&Ce.onBlur(ce)!==!1&&ce.disable()}e(document).bind("click.terminal",n).bind("contextmenu.terminal",n)});var i=e(window);if(F||i.on("focus",Y).on("blur",te),F?ce.click(function(){ce.enabled()||Ee?ce.focus(!1):(ce.focus(),Pe.enable())}):!function(){var n=0,t=!1;ce.mousedown(function(){ce.oneTime(1,function(){e(window).mousemove(function(){t=!0,n=0,e(window).unbind("mousemove")})})}).mouseup(function(){var r=t;t=!1,e(window).unbind("mousemove"),r||1!=++n||(n=0,ce.enabled()||Ee||(ce.focus(),Pe.enable()))})}(),ce.delegate(".exception a","click",function(n){var t=e(this).attr("href");t.match(/:[0-9]+$/)&&(n.preventDefault(),s(t))}),navigator.platform.match(/linux/i)||ce.mousedown(function(e){if(2==e.which){var n=v();ce.insert(n)}}),ce.is(":visible")&&(he=ce.cols(),Pe.resize(he),pe=d(ce)),Ce.login?ce.login(Ce.login,!0,J):J(),ce.oneTime(100,function(){i.bind("resize.terminal",function(){if(ce.is(":visible")){var e=ce.width(),n=ce.height();ge===n&&me===e||ce.resize()}})}),Ce.execHash&&location.hash?setTimeout(function(){try{var n=location.hash.replace(/^#/,"");X=e.parseJSON(decodeURIComponent(n));var t=0;!function o(){var e=X[t++];e?r(e).then(o):V=!0}()}catch(i){}}):V=!0,e.event.special.mousewheel){var o=!1;e(document).bind("keydown.terminal",function(e){e.shiftKey&&(o=!0)}).bind("keyup.terminal",function(e){(e.shiftKey||16==e.which)&&(o=!1)}),ce.mousewheel(function(n,t){if(!o){var r=Le.top();if(e.isFunction(r.mousewheel)){var i=r.mousewheel(n,t,ce);if(i===!1)return}else e.isFunction(Ce.mousewheel)&&Ce.mousewheel(n,t,ce);t>0?ce.scroll(-40):ce.scroll(40)}})}_e.resolve()}),ce.data("terminal",ce),ce}}(n)}).call(n,function(){return this}(),t(13))}});
//# sourceMappingURL=vendor.bundle.js.map